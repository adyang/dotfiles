#!/bin/bash

main() {
  install_brew <<<$'\n'
}

install_brew() {
  if ! type brew &>/dev/null; then
    local install
    install="$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)" || exit
    # Workaround installer not setting correct permissions when directory does not exists
    sudo mkdir -p /usr/local/lib/pkgconfig || exit
    /bin/bash -c "${install}" || exit
    brew analytics off && brew analytics
  fi
}

main "$@"
